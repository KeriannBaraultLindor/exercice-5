<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Exercice 5 - Programmation d'animation II</title>
		<!-- Ajustement de la taille du viewport-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Désactivation du mode de compatibilité avec des versions antérieures pour IE-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!-- Importation du script pour la police d'icônes Awesome-->
		<script src="https://use.fontawesome.com/039279f0d1.js"></script>

		<!-- Importation des feuilles de styles-->
		<link rel="stylesheet" type="text/css" href="css/normalize.css">
		<!-- Pour faciliter le debugage on utilise  des link pour mieux identifier les fichiers CSS en causes -->
		<link rel="stylesheet"  href="css/01_petit.css">
		<link rel="stylesheet" media="(min-width: 500px)" href="css/02_moyen.css">
		<link rel="stylesheet" media="(min-width: 1000px)" href="css/03_grand.css">
		<link rel="stylesheet"  href="css/animation-svg.css">
	</head>

	<body>



	<svg 	id="monSVG" 
			width="2000"
			height="1000"
			viewBox="-250 -250 2000 1000"
			preserveAspectRatio="xMidYMid  slice"

			>

	  <path d=" M 150 0
	  			L 75 200 
	  			L 225 200 
	  			Z"/>

	  <path d="m448.909272,374.390817c0,0 -165.487588,-133.798475 -100.348857,-204.218726c65.138731,-70.42025 103.869869,72.180756 103.869869,72.180756c0,0 0,-133.798475 84.5043,-72.180756c84.5043,61.617719 -88.025313,204.218726 -88.025313,204.218726z"/>

	  <path d="m620.5,32l134.5,-27l-68,15c0.5,0 -9.5,176 -32.5,130c-23,-46 75,-48 79,-69c4,-21 -26,83 8,68c34,-15 32,-60 31.5,-60c0.5,0 1.5,68 1,68c0.5,0 13.5,-94 25.5,-63c12,31 10,60 9.5,60c0.5,0 11.5,-99 20.5,-64c9,35 40,90 42,48c2,-42 5,-44 4.5,-44c0.5,0 -6.5,71 8.5,59c15,-12 22,-63 21.5,-63c0.5,0 -0.5,62 -1,62c0.5,0 3.5,-70 29.5,-58c26,12 31,234 63,157"/>

	  <path d="m704.5,478c-31,-40 -1,-205 76,-146c77,59 215,133 205,43c-10,-90 -144,52 -171,72c-27,20 -79,71 -110,31z" />

	  <path d="m1015,97l20,211l40,-210l-43,124l101,73l35,-61l-34,-9l-3,32l37,39l18,-72l20,0c0,0 10,74 11,74c1,0 13,-71 13,-71c0,0 5,65 5,65c0,0 43,-68 43,-68c0,0 -25,72 -25,72c0,0 32,11 32,3c0,-8 3,-57 3,-57c0,0 15,61 15,61c0,0 14,-80 14,-80c0,0 2,76 2,76c0,0 22,-75 22,-75c0,0 19,76 19,76c0,0 7,-87 7,-87c0,0 10,99 10,99c0,0 24,-97 24,-97c0,0 16,166 16,166c0,0 15,-47 15,-47c0,0 -44,17 -52,25"/>

	</svg>

	<script>
	// on cible l'élément « path » que l'on veut animer 
	var dessins = document.querySelectorAll("#monSVG path");

	// la longueur du chemin «path»
	for (var i = 0; i < dessins.length; i++) {
		// La longueur du tracé
		longueur = dessins[i].getTotalLength()

		dessins[i].style.strokeDasharray = longueur;
		dessins[i].style.strokeDashoffset = longueur;
	}

	// extraire la fraction du déplacement de la barre de défilement et  ajusté le tracé
	window.addEventListener("scroll", maTrace);

	function maTrace() {

	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  for (var i = 0; i < dessins.length; i++) {
	  	longueur = dessins[i].getTotalLength();
	  	trace = dessins[i].getTotalLength();
	  	dessins[i].style.strokeDashoffset = longueur - trace * fractionDuScroll ;
	  }
	}
	</script>

</body>
</html>